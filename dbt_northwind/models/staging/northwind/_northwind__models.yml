version: 3

models:
  - name: stg_northwind__customers
    description: "This View has information about the customers of Northwind, like their names, cities, phone number, etc."
    columns:
      - name: customer_id
        description: "unique key for the customer. Each customer has an unique customer_id."
        data_tests:
          - not_null
          - unique
      - name: company_name
        description: "the name of the customer."
        data_tests:
          - not_null
      - name: contact_name
        description: "the name of the main contact of the customer."
        data_tests:
          - not_null
      - name: contact_title
        description: "the role/job position of the main contact of the customer."
      - name: address
        description: "the address of the customer."
      - name: city
        description: "the city of the customer."
      - name: region
        description: "the region of the customer."
      - name: postal_code
        description: "the postal code of the customer"
        data_tests:
          - not_null
      - name: country
        description: "the country of the customer."
        data_tests:
          - not_null
      - name: phone
        description: "the phone number of the customer."
      - name: fax
        description: "the fax number of the customer."
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__employees
    description: "This View has information about the employees of Northwind, like their names, titles, hire date, address, etc."
    columns:
      - name: employee_id
        description: "unique key for the employee. Each employee has an unique employee_id."
        data_tests:
          - not_null
          - unique
      - name: last_name
        description: "the last name of the employee."
        data_tests:
          - not_null
      - name: first_name
        description: "the first name of the employee."
        data_tests:
          - not_null
      - name: title
        description: "the title/job position of the employee."
        data_tests:
          - not_null
      - name: title_of_courtesy
        description: "the title of courtesy of the employee."
      - name: birth_date
        description: "the birth date of the employee."
      - name: hire_date
        description: "the hire date of the employee."
        data_tests:
          - not_null
      - name: address
        description: "the address of the employee."
        data_tests:
          - not_null
      - name: city
        description: "the city of the employee."
        data_tests:
          - not_null
      - name: region
        description: "the region of the employee."
      - name: postal_code
        description: "the postal_code of the employee."
        data_tests:
          - not_null
      - name: country
        description: "the country of the employee."
        data_tests:
          - not_null
      - name: home_phone
        description: "the home phone number of the employee."
      - name: extension
        description: "the extension of the employee."
      - name: photo
        description: "a photo of the employee."
      - name: notes
        description: "some information about the employee."
      - name: reports_to
        description: "the employee_id that the employee reports to."
      - name: photo_path
        description: "the URL that the photo of the employee can be found."
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__order_details
    description: "This View has detailed information of the orders place by the customers."
    columns:
      - name: order_id
        description: "unique key for an order. Each order has a unique order_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__orders')
              field: order_id
      - name: product_id
        description: "unique key for an product. Each product has a unique product_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__products')
              field: product_id
      - name: unit_price
        description: "the price of one unit of the product."
        data_tests:
          - not_null
      - name: quantity
        description: "the quantity of the product ordered by the customer."
        data_tests:
          - not_null
      - name: discount
        description: "the percentage of discount given."
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__orders
    description: "This View has general information about the orders."
    columns:
      - name: order_id
        description: "unique key for an order. Each order has an unique order_id."
        data_tests:
          - unique
          - not_null
      - name: customer_id
        description: "unique key for the customer that placed the order. Each customer has an unique customer_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__customers')
              field: customer_id
      - name: employee_id
        description: "unique key for the employee responsible for the order. Each employee has an unique employee_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__employees')
              field: employee_id
      - name: order_date
        description: "the date that the order was placed."
        data_tests:
          - not_null
      - name: required_date
        description: "the delivery date required by the customer."
        data_tests:
          - not_null
      - name: shipped_date
        description: "the date the order was shipped."
      - name: ship_via
        description: "the channel that the order was shipped."
      - name: freight
        description: "the freight value."
        data_tests:
          - not_null
      - name: ship_name
        description: "the name of the customer that the order has to be delivered to."
      - name: ship_address
        description: "the delivery address."
      - name: ship_city
        description: "the delivery city."
      - name: ship_region
        description: "the delivery region."
      - name: ship_postal_code
        description: "the delivery postal code."
      - name: ship_country
        description: "the delivery country."
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__products
    description: "This View has general information about the products sold by Northwind."
    columns:
      - name: product_id
        description: "unique key for a product. Each product has an unique product_id."
        data_tests:
          - not_null
          - unique
      - name: product_name
        description: "the name of the product."
        data_tests:
          - not_null
      - name: supplier_id
        description: "unique key for the supplier. Each supplier has an unique supplier_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__suppliers')
              field: supplier_id
      - name: category_id
        description: "unique key for the category. Each category has an unique category_id."
        data_tests:
          - not_null
          - relationships:
              to: ref('stg_northwind__categories')
              field: category_id
      - name: quantity_per_unit
        description: "the quantity of the product in a unit (boxes, bottles, etc.)."
      - name: unit_price
        description: "the price per unit."
      - name: units_in_stock
        description: "the amount of units in stock."
      - name: units_on_order
        description: "the amount of units currently ordered."
      - name: recorder_level
        description: "Need to check with business team."
      - name: discontinued
        description: "If Northwind is still selling the product (0 = is selling, 1 = not selling)"
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__suppliers
    description: "This View has general information about the suppliers of the products sold by Northwind."
    columns:
      - name: supplier_id
        description: "unique key for the supplier. Each supplier has an unique supplier_id."
        data_tests:
          - not_null
          - unique
      - name: company_name
        description: "the name of the supplier company."
        data_tests:
          - not_null
      - name: contact_name
        description: "the name of the main contact of the supplier company."
        data_tests:
          - not_null
      - name: contact_title
        description: "the role/job position of the main contact of the supplier company."
      - name: address
        description: "the address of the supplier company."
      - name: city
        description: "the city of the supplier company."
      - name: region
        description: "the region of the supplier company."
      - name: postal_code
        description: "the postal code of the supplier company"
        data_tests:
          - not_null
      - name: country
        description: "the country of the supplier company."
        data_tests:
          - not_null
      - name: phone
        description: "the phone number of the supplier company."
      - name: fax
        description: "the fax number of the supplier company."
      - name: homepage
        description: "the website address of the supplier company."
      - name: load_at
        description: "the timestamp of the View update."
  - name: stg_northwind__categories
    description: "This View has information about the categories of the products sold by Northwind."
    columns:
      - name: category_id
        description: "unique key for the category. Each category has an unique category_id."
        data_tests:
          - not_null
          - unique
      - name: category_name
        description: "the name of the category."
        data_tests:
          - not_null
      - name: description
        description: "the description of the category."
        data_tests:
          - not_null
      - name: load_at
        description: "the timestamp of the View update."
